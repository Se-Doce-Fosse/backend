#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

sh .husky/validate-branch-name.sh
npm run format:check

# Verifica se o JDK está disponível antes de executar testes
if command -v javac >/dev/null 2>&1; then
    echo "✅ JDK encontrado, executando testes..."
    npm run test:coverage
    npm run build
else
    echo "⚠️  JDK não encontrado, pulando testes e build..."
    echo "💡 Para executar testes, instale o JDK 17 ou superior"
    echo "🔧 Você pode pular esta verificação temporariamente com: git push --no-verify"
fi
